{% extends "core.html" %}

{% block title %}Iniciar Sesión{% endblock title %}

{% block content %}
    {% if not user.is_authenticated %}
    <div class="div-login">
        <div class="login-content">
            <h3 class="header-login">Iniciar Sesión</h3>
            <form id="id_form_login" method="post">
                {% csrf_token %}
                <label for="id_username">{{ form.username.label }}</label>
                <div class="div-input-icon">
                    <svg class="icon" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.5778 13.6907L19.0345 15.2619C19.927 15.6676 20.5 16.5575 20.5 17.5378V18.25C20.5 19.6307 19.3807 20.75 18 20.75H7C5.61929 20.75 4.5 19.6307 4.5 18.25V17.5378C4.5 16.5575 5.07301 15.6676 5.96549 15.2619L9.42216 13.6907C8.25209 12.7755 7.5 11.3506 7.5 9.75C7.5 6.98858 9.73858 4.75 12.5 4.75C15.2614 4.75 17.5 6.98858 17.5 9.75C17.5 11.3506 16.7479 12.7755 15.5778 13.6907ZM10.4613 14.3168L6.3793 16.1723C5.8438 16.4157 5.5 16.9496 5.5 17.5378V18.25C5.5 19.0784 6.17157 19.75 7 19.75H18C18.8284 19.75 19.5 19.0784 19.5 18.25V17.5378C19.5 16.9496 19.1562 16.4157 18.6207 16.1723L14.5387 14.3168C13.9161 14.5952 13.2261 14.75 12.5 14.75C11.7739 14.75 11.0839 14.5952 10.4613 14.3168ZM12.5 13.75C14.7091 13.75 16.5 11.9591 16.5 9.75C16.5 7.54086 14.7091 5.75 12.5 5.75C10.2909 5.75 8.5 7.54086 8.5 9.75C8.5 11.9591 10.2909 13.75 12.5 13.75Z" fill="#001736"/></svg>
                    {{ form.username }}
                </div>
                <label for="id_password">{{ form.password.label }}</label>
                <div class="div-input-icon">
                    <svg class="icon" width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.95 19.25C16.7184 20.3911 15.7095 21.25 14.5 21.25H5.5C4.11929 21.25 3 20.1307 3 18.75V11.75C3 10.5405 3.85888 9.53164 5 9.30001V8.25C5 5.48858 7.23858 3.25 10 3.25C12.7614 3.25 15 5.48858 15 8.25V9.30001C16.1411 9.53164 17 10.5405 17 11.75V13.25H18.5C19.8807 13.25 21 14.3693 21 15.75V16.75C21 18.1307 19.8807 19.25 18.5 19.25H16.95ZM15.9146 19.25H11.5C10.1193 19.25 9 18.1307 9 16.75V15.75C9 14.3693 10.1193 13.25 11.5 13.25H16V11.75C16 10.9605 15.39 10.3134 14.6157 10.2544C14.5785 10.2632 14.5398 10.2678 14.5 10.2678C14.454 10.2678 14.4095 10.2616 14.3672 10.25H5.5C4.67157 10.25 4 10.9216 4 11.75V18.75C4 19.5784 4.67157 20.25 5.5 20.25H14.5C15.1531 20.25 15.7087 19.8326 15.9146 19.25ZM6 9.25H14V8.25C14 6.04086 12.2091 4.25 10 4.25C7.79086 4.25 6 6.04086 6 8.25V9.25ZM20 16.75V15.75C20 14.9216 19.3284 14.25 18.5 14.25H11.5C10.6716 14.25 10 14.9216 10 15.75V16.75C10 17.5784 10.6716 18.25 11.5 18.25H18.5C19.3284 18.25 20 17.5784 20 16.75ZM11.5 15.25H12.5C12.7761 15.25 13 15.4739 13 15.75V16.75C13 17.0261 12.7761 17.25 12.5 17.25H11.5C11.2239 17.25 11 17.0261 11 16.75V15.75C11 15.4739 11.2239 15.25 11.5 15.25ZM14.5 15.25H15.5C15.7761 15.25 16 15.4739 16 15.75V16.75C16 17.0261 15.7761 17.25 15.5 17.25H14.5C14.2239 17.25 14 17.0261 14 16.75V15.75C14 15.4739 14.2239 15.25 14.5 15.25ZM17.5 15.25H18.5C18.7761 15.25 19 15.4739 19 15.75V16.75C19 17.0261 18.7761 17.25 18.5 17.25H17.5C17.2239 17.25 17 17.0261 17 16.75V15.75C17 15.4739 17.2239 15.25 17.5 15.25Z" fill="#001736"/></svg> 
                    {{ form.password }}
                </div>
                {% if form.errors %}
                    <p class="text-error">Nombre de usuario o contraseña incorrecto.</p>
                {% endif %}
                <button type="submit" class="btn">Ingresar</button>
            </form>
        </div>
    </div>
    {% else %}
    <script>
        window.location.replace('/accounts/logout')
    </script>
    {% endif %}
    <script>
        document.querySelector('#id_username').placeholder = "e. g. yourname"
        document.querySelector('#id_password').placeholder = "e. g. password123"
    </script>

{% endblock content %}
